<p>
    <input type="text" placeholder="Search..." ng-model="searchFor" size="20"/>
    <button type="button" class="btn btn-default" ng-show="isUserLoggedIn" ng-click="open()">Create New Event</button>  
  </p>

    <div  ng-controller="invitesController" ng-init="allEvents()">
                <div style="width: 250px; float: left; margin-right: 10px; padding:3px" ng-repeat="event in events | filter: { event_title: searchFor } | orderBy:'-_id'" class="panel panel-default">
                  <a href='/event/{{ event._id }}'>
                  <img src='/uploads/{{ event.event_image}}' height=auto width=100%> </br>
                  </a>
    <div style="padding-left:10px; padding-bottom:10px">
                        <h4><a href='/event/{{ event._id }}'> {{ event.event_title}} </a>  </h4> 
                        Date: {{ event.event_start | date1:'sdate' }} {{ event.event_time | date1:'stime' }} </br>
                        Location: {{ event.event_location}}<br>
                        Yeses: {{ events_yes_count[0][event._id] }}<br>
                        Comments: {{ events_comments_count[0][event._id] }}
                </div>
                </div>

<div>
<style type="text/css">
.modal.fade .modal-dialog {
    transform: translate(-50%, -80%);
}

.modal.in .modal-dialog {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    margin-top: 10px;
}

    </style>
    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title">Create New Event</h3>
        </div>
        <div class="modal-body">            <ul>
          
        <div class="well">
            <form name="eventForm">
        <div >

    <div class="row">
      <div class="col-md-6" style="padding-top: 10px;">
          <label>Event Date and Time</label>
        <p class="input-group">
          <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
          <span class="input-group-btn">
            <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
          </span>
        </p>
      </div>
      <div class="col-md-6">
<uib-timepicker ng-model="mytime" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></uib-timepicker>
      </div>
      </div>
      </div>





                <div class="form-group" ng-class="{ 'has-error' : eventForm.event_title.$invalid &&  submitted }">
                    <label>Event Title</label>
                    <input type="text" name="event_title" class="form-control input-md text-center" placeholder="Event Title" ng-model="formData.text" required>
                    <p ng-show="(eventForm.event_title.$invalid && submitted) || noEventTitle" class="help-block">Provide Event Title.</p>
                </div>
                <div class="form-group" ng-class="{ 'has-error' : eventForm.event_location.$invalid &&  submitted }">
                    <label>Event Location</label>
                    <input type="text" name="event_location" class="form-control input-md text-center" placeholder="Event Location" ng-model="formData.event_location" required>
                    <p ng-show="eventForm.event_location.$invalid && submitted" class="help-block">Provide Event Title.</p>
                </div>
                <div>
<label class="btn btn-default btn-file">
Browse <input type="file" nv-file-select="fileSelected($files)" uploader="uploader" style="display: none;"  />
</label> Upload Event Image
                            <div ng-repeat="item in uploader.queue">
                                    <div ng-show="uploader.isHTML5" ng-thumb="{ file: item._file, height: 100 }"></div>
                                <div>
                                    <button type="button" class="btn btn-primary btn-md" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                        <span class="glyphicon glyphicon-upload"></span> Create New Event
                                    </button>
                                    <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                                        <span class="glyphicon glyphicon-trash"></span> Remove
                                    </button>
                        </div>

                </div>
           
            </form>
                    </div>
            </ul>

     <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
        </div>    
</script>
</div>

